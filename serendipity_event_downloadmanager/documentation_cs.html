<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=windows-1250">
		<title>Dokumentace: Downloadmanager</title>
		<style>
        	pre {
				display: block;
				padding: 5px;
				border: solid 1px #333333;
				background-color: #cccccc;
			}
		</style>
	</head>
	<body>
	<h1>Dokumentace k pluginu 'Downloadmanager'<br />
	<small>(serendipity_event_downloadmanager)</small></h1>
		<p>Dokumentaci k tomuto pluginu pøeloil do èeštiny Vladimír Ajgl (vlada [zavinac] ajgl [tecka] cz) dne 21.8.2011. Od té doby mohl bıt plugin pozmìnìn nebo mohly bıt rozšíøené jeho funkce. Zkontrolujte pro jistotu i <a href="ChangeLog">aktuální anglickı ChangeLog</a>.
		</p>
		
		<h2>Popis pluginu</h2>
		<p>Zajišuje Serendipity všechny funkce download managera. Pøi odinstalování jsou odstranìny všechny tabulky z databáze (ztráta všech dat)!!!</p>

		<h2>Historie verzí (ChangeLog)</h2>
		<ul>
			<li>nejnovìjší verze</li>	
			<ul>	
				<li>dopøedná kompatibilita se Smarty3</li>	
			</ul>

			<li>verze 0.26, 15.2.2011, [Ian Timbalu]</li>	
			<ul>	
				<li>zmìnìno - volání funkce smarty->fetch, aby bylo ménì pøísné, aby podporovalo zmìnu poètu a poøadí parametrù mezi specifikacemi Smarty 2 a Smarty 3 - odstranìn parametr 4</li>	
				<li>pøidáno - omezení funkcí backendu a odkazu na administraci v postranním sloupci pouze na administrátora</li>	
				<li>opraveno - zobrazení dat v šablonách (*.tpl) frontendu pouze pøihlášenım uivatelùm, pokud je to nastaveno</li>	
				<li>pøidáno - serendipity_db_bool() do $this->get_config('registered_only')</li>	
			</ul>

			<li>verze 0.25.1, 20.10.2010, [Ian Timbalu]</li>	
			<ul>	
				<li>opraveno - pøedávání parametrù odkazem pøi volání funkce bylo zneplatnìno od PHP 5.3.x</li>	
				<li>pøidáno - @silencer do mkdir a xhtml do &lt;hr&gt; tagu v if($coname == 'absincomingpath') echo '&lt;hr /&gt;';</li>	
			</ul>

			<li>verze 0.25, 23.9.2010, [Ian Timbalu]</li>	
			<ul>	
				<li>opraveno - špatná cesta, pøi kopírování souborù z mediatéky Serendipity do vybrané kategorie (pouze 0.25b)</li>	
				<li>zmìnìno - drobné detaily v jazykovıch souborech a šablonách frontenu filelist.tpl a filedetails.tpl</li>	
				<li>pøidáno - monost pøejmenovat soubor v administraèní sekci na stránce editace souboru (to si vyádalo pøidání nové jazykové konstanty do jazykového souboru)</li>	
				<li>zmìnìno - 0.25 beta verze všech novıch šablon backendu a jejich stylopisy tak, aby obsahovaly nejnovìjší vzhled (zaloenı na designu uivatele [YellowLed], díky!)</li>	
				<li>zmìnìno - hlavièka stránek v administraèní sekci, která nyní ukazuje zpìt na koøenovı adresáø a na pøedchozí úroveò, pokud existuje</li>	
				<li>zmìnìno - nastavení databáze pro koøenovou úroveò, aby nebyla schovaná - to nezmìní chování pluginu pøi zobrzování souborù bez koøenové úrovnì, ale usnadní to pøístup k nim</li>	
				<li>pøidáno - nová ikona pro import do mediatéky Serendipity</li>	
				<li>opraveno - nìkolik potenciálních chyb a/nebo nepøíjemnıch vlastností, které se vyskytly ve verzi 0.24</li>	
				<li>pøidáno - názvy polí v smarty šablonì pro backend, aby byly jedineèné v kontextu celého blogu - viz seznam v backend.dlm.index.tpl</li>	
				<li>pøidáno - kompletní šablona pro backend, co si vyádalo vícero zmìn v kódu pluginu</li>	
			</ul>

			<li>verze 0.24, 26.8.2010, [Ian Timbalu]</li>	
			<ul>	
				<li>pøidáno - nové nastavení: 'intro', pøidává monost úvodního textu pøed vlastním obsahem ve frontendu (nepovinné)</li>	
				<li>pøidáno - ikona mime typu ics</li>	
				<li>zmìnìno - šablony frontendu, frontend.cxx a ikony pro download, nyní novı svìí vzhled (navrhl [YelowLed], díky!)</li>	
				<li>zmìnìno - cesta souborù downloadmanageru zpìt na '/serendipty/archives/.dlm/files' and '/serendipty/archives/.dlm/ftpin', kterı vypadá jako nejlepší místo pro pohyb souborù. Adresáø /uploads pøedstavoval problém s mediatékou a adresáø /templates_c je v nìkterıch pøípdech uivateli mazán. Po konzultaci [Garvin] navrhl adresáø /archives. Snail jsem se automatizovat pøesun adresáøù do nového adresáøe a do nového nastavení verze 0.24. Pokud zaznamenáte problémy, pøesuòte soubory prosím ruènì. Pokud uvidíte odkaz, abyste o tom informovali plugin, kliknìte na nìj. Pøíští obnovení stránky nastaví 'chg2archivespath' na 'ano'. Odteï tyto adresáøe nejsou libovolnì nastavitelné a v nastavení pluginu jsou skryté.</li>	
				<li>zmìnìno - vyèištìní a optimalizace kódu, okomentování funkcí, refaktoring</li>	
				<li>zmìnìno - soubory frontendu a šablony kategorií, aby byly co nejvíce zaloeny na šablonách smarty</li>	
				<li>pøidáno - promìnná smarty 'dlm_is_registered' do všech tøí šablon frontendu</li>	
				<li>pøidáno - nové nastavení, zobrazení kategorií a souborù ke staení pouze registrovanım a pøihlášenım uivatelùm (vıchozí: ne)</li>	
				<li>pøidáno a zmìnìno - nìkteré ikony backendu (ze starıch ošklivıch na nové vymazlené)</li>	
				<li>zmìnìno - stylopisy frontend.css a backends.css, aby podporovaly zmìny v html kódu, stále ve vıvoji</li>	
				<li>zmìnìno - monost vyèistit vstupní adresáø (ftp/trash) okamitì pomocí tlaèítka 'koš'</li>	
				<li>zmìnìno - pouití vstupního adresáøe. Nyní je pouíván také jako koš/temp adresáø pro vymazané (pøesunuté) soubory!</li>	
				<li>pøidáno - rozbalovací nápovìda/tipy</li>	
				<li>zmìnìno a pøidáno - jazykové konstanty v jazycích &lt;en&gt;, &lt;de&gt; a &lt;de-utf8&gt;</li>	
				<li>zmìnìno - uspoøádání funkcí pluginu, aby byly pøehlednjší a ohebnìjší pro další vylepšení</li>	
				<li>zmìnìno - dlm_functions.js podporuje funkce oznaèení/odznaèení</li>	
				<li>pøidáno - oznaèit a pøesunout všechny vybrané soubory ve vstupním adresáøi do vybraného adresáøe</li>	
				<li>pøidáno - oznaèit a vymazat všechny oznaèené soubory v kategorii - soubory budou pøesunuty do vstupního (ftp/trash) adresáøe, aby se pøedešlo nechtìnému zlikvidování souborù</li>	
			</ul>

			<li>verze 0.23.1, 16.8.2010, [Ian Timbalu]</li>	
			<ul>	
				<li>Zvıšení verze, aby se do CVS (Spartacus) dostaly soubory dodateènì pøidané k verzi 0.23.</li>	
			</ul>

			<li>verze 0.23, 11.8.2010, [Ian Timbalu]</li>	
			<ul>	
				<li>pøidáno - zobrazování souborù v koøenovém adresáøi v backendu (oprava chyby, kde se soubory pøesunuté do koøenového adresáøe nezobrazovaly). Frontend nezobrazoval/nezobrazuje soubory v koøenovém adresáøi, co vlastnì není chyba, odteï je to feature :-).</li>	
				<li>zmìnìno - chování práce souborù v dlm, aby byly podporovány i soubory v koøenovém adresáøi (oznamte chybu, pokud zaznamenáte divné chování)</li>	
				<li>pøidáno - tlaèítko "stáhnout soubor" do backendu</li>	
				<li>zmìnìno - adresáø 'dlmanager/incoming' na '.dlmanager/incoming' (pouze v novıch instalacích!), take se nezobrazuje, kdy plugin zobrazuje hodnoty z mediatéky (pokud se Váš blog tak chová, smate ruènì adresáø 'uploads/dlmanager', pøi pøíštím downloadu bude vytvoøen správnı adresáø.</li>	
				<li>opraveno - download souborù s mezerami v názvu - mezery jsou nahrazeny podtrítkem (_)</li>	
				<li>pøidáno - do CVS chybìjící missing style_dlmanager_frontend.css</li>	
				<li>pøidáno - stylopis style_dlmanager_backend.css, aby podporoval budoucí šablony backendu</li>	
				<li>pøidno - dlm_functions.js, aby podporoval budoucí javascript v backendu - doteï pouíván pro rozbalovatelné divy</li>	
				<li>pøidáno - chybìjící uzvavírací tagy &lt;/div&gt; - snad u jsou všechny na správnıch místech</li>	
			</ul>

			<li>verze 0.221, 9.8.2010, [Ian Timbalu]</li>	
			<ul>	
				<li>opraveno - špatnı vıchozí adresáø, pokud nic nebylo zadáno v nastavení pluginu</li>	
			</ul>

			<li>verze 0.22, 8.8.2010, [Ian Timbalu]</li>	
			<ul>	
				<li>zmìnìno - adresáø pro upload na 'serendipity/uploads/dlmanager/incoming' (pouze pøi nové instalaci!)</li>	
				<li>zmìnìno - adresáø pro download na 'serendipity/templates_c/.dlmanager/files' (pouze pøi nové instalaci!)</li>	
				<li>pøidáno - chybìjící vytvoøení adresáøù pomocí rekurzivní funkce mkdir pøidané v PHP 5.0.0</li>	
				<li>opraveno - chyba a varování ve funkci is_dir($handle)</li>	
				<li>pøidáno - monost mít vlastní stylopis pluginu s minimálními startovacími hodnotami</li>	
				<li>zmìnìno - *.tpl šablony frontendu, aby podporovaly tyto zmìny</li>	
			</ul>

			<li>verze 0.21, 25.8.2009, [dma147 - Alexander Mieland, <a href="http://blog.linux-stats.org">http://blog.linux-stats.org</a>, <a href="mailto:dma147@linux-stats.org">mailto: dma147@linux-stats.org</a>; kontaktujte mne na IRC na irc.freenode.net v #linux-stats, #archlinux, #archlinux.de a #s9y]</li>	
			<ul>	
				<li>kompatibilita s PHP 5.3, funkce split() není podporována</li>	
			</ul>

			<li>verze 0.20, 26.10.2007</li>	
			<ul>	
				<li>prùhledné obrázky (díky uivateli [ICE]!)</li>	
				<li>zmìnìn soubor download.gif na download.png, kvùli lepšímu vzhledu prùhlednıch èástí (díky uivateli [Don Chambers]!)</li>	
			</ul>

			<li>verze 0.19, 7.9.2007, [brockhaus]</li>	
			<ul>	
				<li>pøidáno - volitelnı popis souboru v seznamu souborù</li>	
				<li>pøidáno - volitelnı pøímı download v seznamu souborù</li>	
				<li>pøidáno - CSS tøídy v zobrazení seznamu souborù</li>	
				<li>popis podporuje zalomení øádkù</li>	
				<li>pøeloeny chybející èástí do nìmèiny</li>	
				<li>pøidán obrázek *.mp3</li>	
			</ul>

			<li>verze 0.6, 21.9.2005, [dma147]</li>	
			<ul>	
				<li>release verze 0.6</li>	
				<li>kompletní pøepsání uivatelského rozhraní do šablon smarty</li>	
				<li>skryté kategorie si nyní mohou zobrazit registrovaní uivatelé</li>
				<li>pøidána monost pøejmenovat kategorie</li>	
			</ul>

			<li>verze 0.5, 20.9.2005, [dma147]</li>	
			<ul>	
				<li>release verze 0.5</li>	
				<li>pøidáno - monost skrıt kategorie (pøi kliknutí na ikonu sloky)</li>
			</ul>

			<li>verze 0.4, 17.9.2005, [dma147]</li>	
			<ul>	
				<li>release verze 0.4</li>
				<li>pøidáno - zobrazení content-type pøi pøejetí ikony souboru myší</li>
				<li>pøidáno - import souborù s mediatéky</li>
				<li>opraveno - vzhled struktury kategorií (ikony)</li>
				<li>pøidáno - nastavení šíøky a vıšky ikon souborù</li>
				<li>dokonèeny permalinky (tady to nebude fungovat, ale na jinıch blozích na apachi to funguje, take to vzdávám. S *mım* apachem musí bıt nejakı konfiguraèní problém.)</li>
				<li>po *opravdu* tvrdé práci jsem koneènì zprovoznil zobrazování podkategorií! (vnoøené sady jsou vánì hustı! ;-))</li>
			</ul>

			<li>verze ???, 16.9.2005, [dma147]</li>	
			<ul>	
				<li>stejnì jako 15.9.2005</li>
			</ul>

			<li>verze ???, 15.9.2005, [dma147]</li>	
			<ul>	
				<li>poøád makám na podkategoriích</li>
				<li>poøád makám na permalinku</li>
			</ul>

			<li>verze ???, 14.9.2005, [dma147]</li>	
			<ul>	
				<li>pouit diff od uivatele [Rob] tıkající se peramlinku</li>
				<li>pokus rozchodit tyhle permalinky (s pøedpokladem, e nastavení mého apache je správné)</li>
				<li>opraveno - vıstup &quot; v jazykovıch konstantách</li>
				<li>zmìnìno - #dls na #files, aby se zabránilo zmatkùm</li>
				<li>pøidáno - mime typy a ikony pro soubory palmpilot (díky uivateli [Rob])</li>
				<li>zaèal jsem pracovat na zobrazení podkategirií v seznamu souborù</li>
			</ul>

			<li>verze 0.3, 12.9.2005, [dma147]</li>	
			<ul>	
				<li>release verze 0.3</li>
				<li>opraveno - sql dotazy pro databázi postgresql</li>
				<li>zmìnìno - natvrdo kódované cesty (k obrázkùm) na automaticky detekovanou relativní cestu (getRelPath())</li>
				<li>opraveno - vıchozí cesta pro adresáøe pro download a pøíchozí soubory</li>
				<li>zmìnìno - addslashes() na serendipity_db_escape_string()</li>
				<li>pøidáno - hook pro download (u ádná další vyskakovací okna pøi stahování!!!)</li>
			</ul>

			<li>verze ???, 11.9.2005, [dma147]</li>	
			<ul>	
				<li>pøidáno - nastavitelné zobrazování data souboru</li>
				<li>pøidáno - mnohem lepší a mnoho dalších ikon souborù</li>
				<li>pøidáno - mnohem více mime typù</li>
				<li>zmìnìno - funkce pro detekci mime typu</li>
				<li>pøidáno - nastavení dalších poloek seznamu souborù</li>
				<li>pøidáno - nìmeckı jazykovı soubor</li>
			</ul>

			<li>verze 0.1, 10.9.2005, [dma147]</li>	
			<ul>	
				<li>release verze 0.1</li>
				<li>dokonèeno - upload souborù skrz webové rozhraní</li>
				<li>vytvoøeno - uivatelská èást</li>
				<li>dokonèeno - zobrazení stromu kategorií</li>
				<li>dokonèeno - zobrazení sezanmu souborù</li>
				<li>dokonèeno - download souborù</li>
			</ul>

			<li>verze ???, 9.9.2005, [dma147]</li>	
			<ul>	
				<li>dokonèeno - pøidávání, mazání a editace kategorií</li>
				<li>dokonèeno - správa souborù nahranıch do vstupního adresáøe</li>
				<li>zapoèato - nahrávání souborù skrz webové rozhraní</li>
			</ul>

			<li>verze ???, 9.9.2005, [dma147]</li>	
			<ul>	
				<li>Zaèátek vytváøení pluginu downloadmanager pro Serendipity</li>
			</ul>
		</ul>

	</body>
</html>
