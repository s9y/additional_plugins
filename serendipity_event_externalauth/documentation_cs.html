<html>    
	<head>        
		<meta http-equiv="content-type" content="text/html; charset=windows-1250">
		<title>Dokumentace: Externí ovìøování uivatelù</title>        
		<style>
        	pre {
				display: block;
				padding: 5px;
				border: solid 1px #333333;
				background-color: #cccccc;
			}         
		</style>    
	</head>
	<body>
	<h1>Dokumentace k pluginu 'Externí ovìøování uivatelù'<br />
	<small>(serendipity_event_externalauth)</small></h1>
		<p>Dokumentaci k tomuto pluginu pøeloil do èeštiny Vladimír Ajgl (vlada [zavinac] ajgl [tecka] cz) dne 6.9.2011. Od té doby mohl bıt plugin pozmìnìn nebo mohly bıt rozšíøené jeho funkce. Zkontrolujte pro jistotu i	<a href="ChangeLog">aktuální anglickı ChangeLog</a>. 
		</p>
		
		<h2>Popis pluginu</h2>
		<p>
		Umoòuje pouít vnìjší zdroj pro zjišování správnosti pøihlašovacích údajù. Pøihlašovací jména jsou cachována v Serendipity databázi. Tento plugin umí také sledovat pøihlášení do Serendipity.
		</p>
		
		<h2>Historie verzí (ChangeLog)</h2>
		<ul>
			<li>verze 1.22 a 1.21</li>	
			<ul>	
				<li>Zmìnìna syntaxe fail2ban, zlepšení parsování</li>	
			</ul>

			<li>verze 1.20, 31.5.2011</li>	
			<ul>	
				<li>pøidáno - parametr logfile do funkce fail2ban</li>	
			</ul>

			<li>verze 1.17 (?), [Colas Nahaboo, colas@nahaboo.net]</li>	
			<ul>	
				<li>Pøidal jsem následující:</li>
				<ul>	
					<li>Monost pøihlášení k rozhraní Microsoft Active Directory LDAP. Pro toto je nutné spustit dva pøíkazy hned po pøipojení LDAPu:
<pre>
ldap_set_option($ds,LDAP_OPT_PROTOCOL_VERSION, 3);
ldap_set_option($ds, LDAP_OPT_REFERRALS, 0);
</pre>
					</li>	
					<li>Monost pøipojení k LDPAùm, které nepodporují anonymní prohlíení pomocí dvou novıch nastavení 'bind_user' a 'bind_password'</li>	
					<li>Monost pouívat LDAPy, kde uivatelé nejsou uloené vıhradnì v jedné vìtvi stromu, napø. kdy je tøeba nejdøíve vyhledat jméno ve všech vìtvích stromu vráceného v 'rdn' pomocí vyhledávacího øetìzce LDAP, kterı je moné zadat v novì zavedeném nastavení 'auth_query' s %-expansion v rdn</li>	
					<li>Nastavení 'realname' v Serendipity ve všech pøípadech z hodnoty LDAP 'name'</li>	
				</ul>

					<li>Napøíklad moje nastavení v ILOGu
<pre>rdn = DC=ilog,DC=biz
bind_user = CN=webcoreadreaddev,CN=Users,DC=ilog,DC=biz
bind_password = dotohotinicneni
auth_query = (&(objectcategory=person)(objectclass=user)(sAMAccountName=%1))
</pre></li>
				<li>Zmìnil jsem následující soubory:</li>
				<ul>	
					<li>serendipity_event_externalauth.php - vlastní kód</li>	
					<li>lang_en.inc.php - anglické texty k novım tøem nastavením</li>	
					<li>ChangeLog.txt - novì pøidanı soubor</li>	
				</ul>
			</ul>

		</ul> 
		 
	</body>
</html>
