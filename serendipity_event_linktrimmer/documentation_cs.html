<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=windows-1250">
		<title>Dokumentace: Zkracovaè adres</title>
	</head>
	<body>
       <h1>Dokumentace k pluginu 'Linktrimmer'<br />
	<small>(serendipity_event_linktrimmer)</small></h1>
		<p>Dokumentaci k tomuto pluginu pøeložil do èeštiny Vladimír Ajgl (vlada [zavinac] ajgl [tecka] cz) a naposledy zkontroloval dne 22.6.2013. Od té doby mohl být plugin pozmìnìn nebo mohly být rozšíøené jeho funkce. Zkontrolujte pro jistotu i <a href="documentation_en.html">aktuální anglickou dokumentaci</a> a <a href="ChangeLog">ChangeLog</a>.

		<h2>Popis pluginu</h2>

<p>Plugin Link-trimmer Vám umožòuje provozovat na blogu vlastní zkracovaè adres. Podobnì jako tøeba tr.im nebo tinyurl.com.</p>

<p>Mùžete zadat libovolnou interní (uvnitø blogu) nebo externí (jakákoliv jiná) URL adresu. Plugin si zapíše tuto adresu do databáze a pøiøadí k ní krátký identifikátor. Pak mùžete posílat jiným lidem místo pùvodní dlouhé adresy tuto novou krátkou, která lze lépe zapamatovat. V podstatì budete mít na blogu vlastní malou službu podobnou komerèním službám tr.im nebo tinyurl.
</p>

<h2>Proè dìlá to, co dìlá?</h2>

<p>Krátké URL adresy jsou považované za více sexy a obecnì pøíjemnìjší. Výhoda toho, že máte vlastní zkracovaè, je, že mùžete sami ovlivòovat jeho výstupy, pøesmìrování a dobu platnosti odkazù. Když používáte externí služby/servery, mùže se vám stát, že pøijdete o všechny odkazy, pokud server spadne. Pøi vlastním pøesmìrovaèi vám také do odkazù nikdo nebude vkládat reklamy.</p>

<p>Výhoda cizích služeb nicménì je jejich známost. Lidé je používají a vìdí, co od nich mhou oèekávat.</p>

<h2>Co tento plugin NEDÌLÁ?</h2>

<p>Nepøedìlává automaticky URL adresy zadané v blogu na krátké adresy. Plugin serendipity_event_trackexits dìlá nìco na ten zpùsob a používá tyto výstupy pro statistické úèely.
</p>

<p>Tento plugin v souèasné dobì nevede statistiky použití. Plugin je spíše ve fázi (fungujícího) prototypu.</p>

<h2>Jak používat tento plugin?</h2>

<p>Pokud chcete zkracovat adresy, máte dvì možnosti. Na úvodní stránce po pøihlášení do adminsitrátorské sekce mùžete zadat URL adresu, která se má zkrátit, stejnì jako mùžete zadat pøeddefinovaný hash, který bude použit jako adresa po zkrácení. Pokud jej ponecháte prázdný, bude vytvoøen automaticky. Hash (zkrácená adresa) pak bude zkracovaný odkaz zakódovaný funkcí base62. Ten sestává z èíslic 0-9, malých písmen a-z a velkých A-Z. To znamená, že nejdøíve budete mít velmi krátké odkazy a èím více odkazù uložíte, tím budou zkrácené reprezentace delší. Nicménì znamená to napøíklad, že abyste mìli odkazy delší než tøi znaky, musíte jich mít alespoò 10000:-)</p>
    
<p>Jakmile zadáte URL adresu, klinìte na tlaèítko "GO" (provést nebo nìjak podobnì se jmenuje v èeském pøekladu), zobrazí se Vám zkrácený odkaz, který mùžete zkopírovat.</p>

<p>Finální odkaz používá pøedponu, kterou mùžete zmìnit v nastavení pluginu.</p>

<p>Jiný zpùsob, jak vytvoøit zkrácený odkaz, je zaèít psát nový pøíspìvek blogu, kliknou na tlaèítko "Linktrimmer" (je pøístupné jak ve WYSIWYG na NE-WYSIWYG editoru). Pak se otevøe vyskakovací okno s políèkem pro zadání adresy ke zkrácení.</p>

<p>Když ve vyskakovacím oknu kliknete na tlaèítko "GO", bude do rozepsaného pøíspìvku automaticky vložen odkaz se zkrácenou adresou. Cíl odkazu bude zkrácená adresa a v popisu bude adresa pùvodního odkazu.</p>

<h2>Bezpeènost</h2>

<p>Všechny zkracované odkazy jsou èíslované vzestupnì. To umožòuje návštìvníkùm "odhadnout" a pak si prohlédnout i ostatní odkazy. To je ale ve skuteènosti pøednost. Takže do zkracovaèe NEUKLÁDEJTE odkazy na citlivé stránky, nebo alespoò použijte vlastní (ne pøeddefinovanou) zkrácenou adresu.</p>

<h2>Jak pøizpùsobit plugin</h2>

<p>Pomocí šablony plugin_linktrimmer.tpl mùžete zmìnit vzhled rozhraní pluginu. Tuto šablonu uložte do adresáøe Vámi používaného stylu vzhledu. CSS stylopis je nejlepší mìnit pøímo ve zmínìné šablonì.</p>

<p>Vychytralý zpùsob, jak využít pøesmìrování pro zkrácení URL adres je následující. Pokud máte více než jednu doménu, mùžete používat doménu s nejkratším názvem jako základnu pro pøesmìrování. Napøíklad, øeknìme, že máte 2 domény. Serendipity bìží na http://www.strasnedlouhadomena.com/serendipity/2009/index.php and druhá, doteï nevyužívaná, doména je is http://leto.com. A teï chcete, aby zkrácené odkazy nebyly ve tvaru http://www.strasnedlouhadomena.com/serendipity/2009/l/4711, ale místo toho jen http://leto.com/4711.</p>

<p>Toho docílíte pomocí apache modulu mod_Rewrite a zapsáním následujícího kódu do souboru .htaccess v koøenovém adresáøi domény leto.com:</p>

<p>RewriteRule ^([0-9A-Za-z]{1,3})$ http://www.strasnedlouhadomena.com/serendipity/2009/l/$1 [L,QSA]</p>

<p>To znamená, že server leto.com nejdøíve provede pøesmìrování adresy na plnou dlouhou adresu na server, kde bìží blog. Tam plugin vytvoøí zbytek pøesmìrovací práce. Všimnìte si, že v tomto pøíkladu byl použit hash (zkratka) dlouhý 3 znaky. Pokud máte více odkazù než nìkolik tisíc, budete to chtít zmìnit napø. na pìt , tj. {1,5}. Dejte si jenom pozor, že toto pøesmìrování nekoliduje se jmény existujícíh adresáøù. (pozn. pøekladatele: To se dá øešit pomocí direktivy RewriteCond. V každém pøípadì je lepší se kolizím vyhnout.)</p>
		
    
		<h2>Historie verzí (ChangeLog)</h2>
		<ul>
			<li>verze 1.3</li>	
			<ul>	
				<li>pøidána volba pro schování zkracovaèe adres na hlavní stránce administraèní sekce</li>	
				<li>Použití nativní funkce API - rozšiøuje serendipity verzi >= 1.3</li>	
			</ul>
			<li>verze 1.1 a 1.2</li>	
			<ul>	
				<li>oprava statických php5 funkcí</li>	
			</ul>
			<li>verze 1.0</li>	
			<ul>	
				<li>Nezobrazovat na tabuli (POC)</li>	
			</ul>
			<li>verze 0.9</li>	
			<ul>	
				<li>Pøidána cesta k obrázku CKEDITOR ready</li>	
			</ul>
			<li>verze 0.8</li>	
			<ul>	
				<li>dopøedná kompatibilita se Smarty3</li>	
			</ul>
			<li>verze 0.7</li>	
			<ul>	
				<li>Použití znakové sady latin1_general_cs kvùli hledání s malými/velkými písmeny. Díky uživateli [danst0]</li>	
			</ul>
			<li>verze 0.6 [danst0]</li>	
			<ul>	
				<li>Umožnení použití v jiných pluginech</li>	
			</ul>
			<li>verze 0.5</li>	
			<ul>	
				<li>Odstranìní nepotøebného die()</li>	
			</ul>
			<li>verze 0.1</li>	
			<ul>	
				<li>Úvodní release. Viz dokumentace.</li>	
			</ul>
		</ul>  
	</body>
</html>		
