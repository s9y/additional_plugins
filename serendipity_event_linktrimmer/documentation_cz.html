<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=iso-8859-2">
		<title>Dokumentace: Zkracovaè adres</title>
	</head>
	<body>
       <h1>Dokumentace k pluginu 'Linktrimmer'<br />
	<small>(serendipity_event_linktrimmer)</small></h1>
		<p>Dokumentaci k tomuto pluginu pøelo¾il do èe¹tiny Vladimír Ajgl (vlada [zavinac] ajgl [tecka] cz) a naposledy zkontroloval dne 22.6.2013. Od té doby mohl být plugin pozmìnìn nebo mohly být roz¹íøené jeho funkce. Zkontrolujte pro jistotu i <a href="documentation_en.html">aktuální anglickou dokumentaci</a> a <a href="ChangeLog">ChangeLog</a>.

		<h2>Popis pluginu</h2>

<p>Plugin Link-trimmer Vám umo¾òuje provozovat na blogu vlastní zkracovaè adres. Podobnì jako tøeba tr.im nebo tinyurl.com.</p>

<p>Mù¾ete zadat libovolnou interní (uvnitø blogu) nebo externí (jakákoliv jiná) URL adresu. Plugin si zapí¹e tuto adresu do databáze a pøiøadí k ní krátký identifikátor. Pak mù¾ete posílat jiným lidem místo pùvodní dlouhé adresy tuto novou krátkou, která lze lépe zapamatovat. V podstatì budete mít na blogu vlastní malou slu¾bu podobnou komerèním slu¾bám tr.im nebo tinyurl.
</p>

<h2>Proè dìlá to, co dìlá?</h2>

<p>Krátké URL adresy jsou pova¾ované za více sexy a obecnì pøíjemnìj¹í. Výhoda toho, ¾e máte vlastní zkracovaè, je, ¾e mù¾ete sami ovlivòovat jeho výstupy, pøesmìrování a dobu platnosti odkazù. Kdy¾ pou¾íváte externí slu¾by/servery, mù¾e se vám stát, ¾e pøijdete o v¹echny odkazy, pokud server spadne. Pøi vlastním pøesmìrovaèi vám také do odkazù nikdo nebude vkládat reklamy.</p>

<p>Výhoda cizích slu¾eb nicménì je jejich známost. Lidé je pou¾ívají a vìdí, co od nich mhou oèekávat.</p>

<h2>Co tento plugin NEDÌLÁ?</h2>

<p>Nepøedìlává automaticky URL adresy zadané v blogu na krátké adresy. Plugin serendipity_event_trackexits dìlá nìco na ten zpùsob a pou¾ívá tyto výstupy pro statistické úèely.
</p>

<p>Tento plugin v souèasné dobì nevede statistiky pou¾ití. Plugin je spí¹e ve fázi (fungujícího) prototypu.</p>

<h2>Jak pou¾ívat tento plugin?</h2>

<p>Pokud chcete zkracovat adresy, máte dvì mo¾nosti. Na úvodní stránce po pøihlá¹ení do adminsitrátorské sekce mù¾ete zadat URL adresu, která se má zkrátit, stejnì jako mù¾ete zadat pøeddefinovaný hash, který bude pou¾it jako adresa po zkrácení. Pokud jej ponecháte prázdný, bude vytvoøen automaticky. Hash (zkrácená adresa) pak bude zkracovaný odkaz zakódovaný funkcí base62. Ten sestává z èíslic 0-9, malých písmen a-z a velkých A-Z. To znamená, ¾e nejdøíve budete mít velmi krátké odkazy a èím více odkazù ulo¾íte, tím budou zkrácené reprezentace del¹í. Nicménì znamená to napøíklad, ¾e abyste mìli odkazy del¹í ne¾ tøi znaky, musíte jich mít alespoò 10000:-)</p>
    
<p>Jakmile zadáte URL adresu, klinìte na tlaèítko "GO" (provést nebo nìjak podobnì se jmenuje v èeském pøekladu), zobrazí se Vám zkrácený odkaz, který mù¾ete zkopírovat.</p>

<p>Finální odkaz pou¾ívá pøedponu, kterou mù¾ete zmìnit v nastavení pluginu.</p>

<p>Jiný zpùsob, jak vytvoøit zkrácený odkaz, je zaèít psát nový pøíspìvek blogu, kliknou na tlaèítko "Linktrimmer" (je pøístupné jak ve WYSIWYG na NE-WYSIWYG editoru). Pak se otevøe vyskakovací okno s políèkem pro zadání adresy ke zkrácení.</p>

<p>Kdy¾ ve vyskakovacím oknu kliknete na tlaèítko "GO", bude do rozepsaného pøíspìvku automaticky vlo¾en odkaz se zkrácenou adresou. Cíl odkazu bude zkrácená adresa a v popisu bude adresa pùvodního odkazu.</p>

<h2>Bezpeènost</h2>

<p>V¹echny zkracované odkazy jsou èíslované vzestupnì. To umo¾òuje náv¹tìvníkùm "odhadnout" a pak si prohlédnout i ostatní odkazy. To je ale ve skuteènosti pøednost. Tak¾e do zkracovaèe NEUKLÁDEJTE odkazy na citlivé stránky, nebo alespoò pou¾ijte vlastní (ne pøeddefinovanou) zkrácenou adresu.</p>

<h2>Jak pøizpùsobit plugin</h2>

<p>Pomocí ¹ablony plugin_linktrimmer.tpl mù¾ete zmìnit vzhled rozhraní pluginu. Tuto ¹ablonu ulo¾te do adresáøe Vámi pou¾ívaného stylu vzhledu. CSS stylopis je nejlep¹í mìnit pøímo ve zmínìné ¹ablonì.</p>

<p>Vychytralý zpùsob, jak vyu¾ít pøesmìrování pro zkrácení URL adres je následující. Pokud máte více ne¾ jednu doménu, mù¾ete pou¾ívat doménu s nejkrat¹ím názvem jako základnu pro pøesmìrování. Napøíklad, øeknìme, ¾e máte 2 domény. Serendipity bì¾í na http://www.strasnedlouhadomena.com/serendipity/2009/index.php and druhá, doteï nevyu¾ívaná, doména je is http://leto.com. A teï chcete, aby zkrácené odkazy nebyly ve tvaru http://www.strasnedlouhadomena.com/serendipity/2009/l/4711, ale místo toho jen http://leto.com/4711.</p>

<p>Toho docílíte pomocí apache modulu mod_Rewrite a zapsáním následujícího kódu do souboru .htaccess v koøenovém adresáøi domény leto.com:</p>

<p>RewriteRule ^([0-9A-Za-z]{1,3})$ http://www.strasnedlouhadomena.com/serendipity/2009/l/$1 [L,QSA]</p>

<p>To znamená, ¾e server leto.com nejdøíve provede pøesmìrování adresy na plnou dlouhou adresu na server, kde bì¾í blog. Tam plugin vytvoøí zbytek pøesmìrovací práce. V¹imnìte si, ¾e v tomto pøíkladu byl pou¾it hash (zkratka) dlouhý 3 znaky. Pokud máte více odkazù ne¾ nìkolik tisíc, budete to chtít zmìnit napø. na pìt , tj. {1,5}. Dejte si jenom pozor, ¾e toto pøesmìrování nekoliduje se jmény existujícíh adresáøù. (pozn. pøekladatele: To se dá øe¹it pomocí direktivy RewriteCond. V ka¾dém pøípadì je lep¹í se kolizím vyhnout.)</p>
		
    
		<h2>Historie verzí (ChangeLog)</h2>
		<ul>
			<li>verze 1.3</li>	
			<ul>	
				<li>pøidána volba pro schování zkracovaèe adres na hlavní stránce administraèní sekce</li>	
				<li>Pou¾ití nativní funkce API - roz¹iøuje serendipity verzi >= 1.3</li>	
			</ul>
			<li>verze 1.1 a 1.2</li>	
			<ul>	
				<li>oprava statických php5 funkcí</li>	
			</ul>
			<li>verze 1.0</li>	
			<ul>	
				<li>Nezobrazovat na tabuli (POC)</li>	
			</ul>
			<li>verze 0.9</li>	
			<ul>	
				<li>Pøidána cesta k obrázku CKEDITOR ready</li>	
			</ul>
			<li>verze 0.8</li>	
			<ul>	
				<li>dopøedná kompatibilita se Smarty3</li>	
			</ul>
			<li>verze 0.7</li>	
			<ul>	
				<li>Pou¾ití znakové sady latin1_general_cs kvùli hledání s malými/velkými písmeny. Díky u¾ivateli [danst0]</li>	
			</ul>
			<li>verze 0.6 [danst0]</li>	
			<ul>	
				<li>Umo¾není pou¾ití v jiných pluginech</li>	
			</ul>
			<li>verze 0.5</li>	
			<ul>	
				<li>Odstranìní nepotøebného die()</li>	
			</ul>
			<li>verze 0.1</li>	
			<ul>	
				<li>Úvodní release. Viz dokumentace.</li>	
			</ul>
		</ul>  
	</body>
</html>		
